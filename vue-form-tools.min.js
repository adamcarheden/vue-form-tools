(function(k,n){'object'==typeof exports&&'object'==typeof module?module.exports=n():'function'==typeof define&&define.amd?define('vue-form-tools',[],n):'object'==typeof exports?exports['vue-form-tools']=n():k['vue-form-tools']=n()})(this,function(){return function(e){function k(o){if(n[o])return n[o].exports;var p=n[o]={i:o,l:!1,exports:{}};return e[o].call(p.exports,p,p.exports,k),p.l=!0,p.exports}var n={};return k.m=e,k.c=n,k.i=function(o){return o},k.d=function(o,p,q){k.o(o,p)||Object.defineProperty(o,p,{configurable:!1,enumerable:!0,get:q})},k.n=function(o){var p=o&&o.__esModule?function(){return o['default']}:function(){return o};return k.d(p,'a',p),p},k.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p)},k.p='',k(k.s=11)}([function(e,k){(function(p,q){e.exports=q()})(this,function(){return function(o){function p(r){if(q[r])return q[r].exports;var s=q[r]={exports:{},id:r,loaded:!1};return o[r].call(s.exports,s,s.exports,p),s.loaded=!0,s.exports}var q={};return p.m=o,p.c=q,p.p='',p(0)}([function(o){const q={unformat:!1,validate:!1,format:!1,sync:!1,invalid:!1,intermediate:!1,valid:!1},r={HTMLInputElement:{keypress:function(C){return this.debug(`keypress: value='${this.input.value}'`),!!this.ignoreKey(C)||void this.validateAndFormat(C)},input:function(C){this.debug(`input: value='${this.input.value}'`),this.validateAndFormat(C)},blur:function(){this.debug(`blur: value='${this.input.value}'`),this.sync()}}};var s={defaultValue:null,ignoreCtrl:!0,ignoreAlt:!0,debug:!1},t=function(C){if(!('key'in C))throw new Error(`predictInput called on event of type '${C.type}', which has no value 'key'. You probably only want to call this on KeyEvents`);var D=C.target.value.slice(0,C.target.selectionStart),E=C.target.value.slice(C.target.selectionEnd),F=`${D}${C.key}${E}`;return F};class u{constructor(C,D,E){if('string'!=typeof C)this.input=C;else if(this.input=document.getElementById(C),!this.input&&(this.input=document.querySelector(C),!this.input))throw new Error(`Failed to find element by id or query selector '${C}'`);if('object'!=typeof this.input)throw Error(`Expected an object or the name of an element to manage, but got a '${typeof this.input}'`);if(!(this.input instanceof HTMLInputElement))throw Error(`Expected an HTMLInputElement, got a '${this.input.constructor.name}'`);if('format'in D&&!('unformat'in D)&&console.warn(`You defined the format callback but not the unformat callback. That probably won't work well.`),'unformat'in D&&!('format'in D)&&console.warn(`You defined the unformat callback but not the format callback. That probably won't work well.`),'format'in D||'unformat'in D||'validate'in D||console.warn(`You didn't define the format/unformat callbacks nor the validate callback. This module doesn't really do anything if you haven't defined at least one of those.`),this.callbacks={},'undefined'==typeof D&&(D={}),'object'!=typeof D)throw new Error(`callbacks should be an object, not a ${typeof D}`);if(Object.keys(q).forEach((F)=>{this.callbacks[F]=F in D?D[F]:q[F]}),Object.keys(D).forEach(function(F){F in q||console.warn(`Unknown callback: '${F}'`)}),this.opts={},'undefined'==typeof E&&(E={}),'object'!=typeof E)throw new Error(`opts should be an object, not a ${typeof E}`);Object.keys(s).forEach((F)=>{this.opts[F]=F in E?E[F]:s[F]}),null!==this.opts.defaultValue&&(this.input.value=this.opts.defaultValue),this.validateAndFormat(),this.inputType=this.input.constructor.name,Object.keys(r[this.inputType]).forEach((F)=>{this.input.addEventListener(F,(G)=>{r[this.inputType][F].bind(this)(G)})})}unformat(C,D){return'undefined'==typeof C&&(C=this.input.value),this.callbacks.unformat?this.callbacks.unformat(C,D):C}unformatted(C){'undefined'==typeof C&&(C=this.input.value);var D=this.callbacks.unformat?this.callbacks.unformat(C):C;return'object'==typeof D?D.value:D}format(C,D){return this.callbacks.format?this.callbacks.format(C,D):C}validate(C){return'undefined'==typeof C&&(C=this.unformatted(this.input.value)),!this.callbacks.validate||this.callbacks.validate(C)}sync(C){'undefined'==typeof C&&(C=this.unformatted(this.input.value));try{if(this.callbacks.sync&&this.validate(C))return this.callbacks.sync(C)}catch(D){this.debug(`Refusing to sync invalid value ${C}`)}}invalid(C,D,E,F){this.callbacks.invalid&&this.callbacks.invalid(C,D,E,F)}intermediate(C,D,E,F){this.callbacks.intermediate&&this.callbacks.intermediate(C,D,E,F)}valid(C,D,E,F){this.callbacks.valid&&this.callbacks.valid(C,D,E,F)}ignoreKey(C){if(!('key'in C))throw new Error(`ignoreKey should only be called for KeyEvents. Called on event of type ${C.type}`);return(1<C.key.length||this.opts.ignoreCtrl&&C.ctrlKey||this.opts.ignoreAlt&&C.altKey)&&(this.debug({ignoring:C}),!0)}validateAndFormat(C){var D,E,F=this.input.selectionStart;C&&C.key?(D=this.input.value,E=t(C),F++):E=this.input.value;var G=this.unformat(E,F);'object'!=typeof G&&(G={value:G,cursorPos:!1});try{if(!this.validate(G.value))this.debug(`'${G.value}': acceptable intermediate value, formatting delayed`),this.intermediate(G.value,D,E,this.input.value);else{var H=this.format(G.value,G.cursorPos);'object'!=typeof H&&(H={value:H,cursorPos:!1}),this.debug(`'${G.value}' (cursorPos=${G.cursorPos}) is valid, formatted as '${H.value}' (cursorPos=${H.cursorPos})`),C&&C.preventDefault(),this.input.value=H.value,H.cursorPos&&this.input.setSelectionRange(H.cursorPos,H.cursorPos),this.valid(G.value,D,E,this.input.value)}}catch(I){return this.debug(`Invalid value '${G.value}': "${I.message}". We'll prevent input if possible.`),C&&C.preventDefault(),C&&'keypress'===C.type||this.invalid(G.value,D,E,this.input.value),!1}return!0}debug(C){this.opts.debug&&console.log(C)}}const v=function(C,D){let E;switch(2>arguments.length&&(D=0),typeof C){case'number':E=C.toString();break;case'symbol':case'string':if(E=C.toString(),!E.match(/^\s*\d+(\.\d*)?\s*$/))return 2>arguments.length?C:{value:C,cursorPos:D};let J=E.substring(0,D),K=E.substring(D).trim();0===J.trim().length&&(D-=J.length,J=''),E=J+K;break;default:return 2>arguments.length?C:{value:C,cursorPos:D};}for(var F=E.match(/\./)?E.split(/\./,2):[E],G=[],H=0,I=0;I<F[0].length;I++){let J=F[0].length-I-1;0!==I&&0==I%3&&(G.unshift(','),J<D&&H++),G.unshift(F[0].charAt(J))}return D+=H,F[0]=G.join(''),E=F.join('.'),2>arguments.length?E:{value:E,cursorPos:D}},w=function(C,D){var E=C.replace(/,/g,'');return 2<=arguments.length?(D-=C.substring(0,D).replace(/[^,]/g,'').length,{value:E,cursorPos:D}):E},x=function(C,D,E,F=[]){return Object.keys(C).forEach(function(G){if(-1!==F.indexOf(G))G in D||(D[G]=C[G]);else{if(G in D)throw new Error(`You defined the callback '${G}', but '${E}' also defines that callback`);D[G]=C[G]}}),D},z=function(C,D={},E={}){let F=JSON.parse(JSON.stringify(E));'commafy'in F||(F.commafy=!0);var G=!1;'MaxMantissaDigits'in F&&(G=F.MaxMantissaDigits,delete F.MaxMantissaDigits);var H=!1;'MaxDecimalDigits'in F&&(H=F.MaxDecimalDigits,delete F.MaxDecimalDigits);var I=!1,J=!1;return F.commafy?(I=A(D,'format',function(K,L){return v(K,L)}),J=A(D,'unformat',function(K,L){return w(K,L)})):('format'in D&&(I=D.format),'unformat'in D&&(J=D.unformat)),delete F.commafy,new u(C,x(D,{validate:function(K){if(K=K.toString(),0===K.length)return!1;var L=K.match(/^(\d*)((\.)(\d*))?$/);if(!L)throw new Error('Must be numeric (with out without a decimal)');if(G&&L[1]&&L[1].length>G)throw new Error(`Mantissa part must be no more than '${G}' digits`);if(H&&L[4]&&L[4].length>H)throw new Error(`Decimal part must be no more than '${H}' digits`);return L[3]&&!L[4]?!1:!0},format:I,unformat:J},'FloatInput',['format','unformat']),F)},A=function(C,D,E){let F;return F=D in C&&'function'==typeof C[D]?function(G,H){var I=E(G,H);return C[D](I.value,I.cursorPos)}:E,F};o.exports={ManagedInput:function(C,D,E){return new u(C,D,E)},IntegerInput:function(C,D={},E={}){let F=JSON.parse(JSON.stringify(E));'commafy'in F||(F.commafy=!0);var G=!1;'MaxDigits'in F&&(G=F.MaxDigits,delete F.MaxDigits);var H=!1,I=!1;return F.commafy?(H=A(D,'format',function(J,K){return v(J,K)}),I=A(D,'unformat',function(J,K){return w(J,K)})):('format'in D&&(H=D.format),'unformat'in D&&(I=D.unformat)),delete F.commafy,new u(C,x(D,{validate:function(J){if(!J.match(/^[0-9]*$/))throw new Error('must be a integer');if(G&&J.length>G)throw new Error(`Must be at most ${G} digits`);return!0},format:H,unformat:I},'IntegerInput'),F)},FloatInput:z,DollarInput:function(C,D={},E={}){let F=JSON.parse(JSON.stringify(E));return'MaxDecimalDigits'in F||(F.MaxDecimalDigits=2),z(C,x(D,{unformat:function(G,H){G=G.toString();var I=G.replace(/^\$+/,''),J=H,K=G.length-I.length;return J-=Math.min(H,K),{value:I,cursorPos:J}},format:function(G,H){return{value:'$'+G,cursorPos:!1!==H&&H+1}}},'DollarInput'),F)},util:{commafy:v,uncommafy:w}}}])})},function(e,k,n){'use strict';n.d(k,'b',function(){return q}),n.d(k,'a',function(){return p});var o=function(s){return!1===s||'function'==typeof s},p={syncOnValid:{type:Boolean,default:!0},value:{default:''},unformat:{validator:o,default:!1},validate:{validator:o,default:!1},format:{validator:o,default:!1},sync:{validator:o,default:!1},invalid:{validator:o,default:!1},intermediate:{validator:o,default:!1},valid:{validator:o,default:!1},opts:{type:Object,default:function(){return{}}}},q=function(s,t,u){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:[],w=u.valid;u.syncOnValid&&(u.valid?w=function(z){u.valid(z),u.$emit('input',z)}:w=function(z){u.$emit('input',z)});var x={};0>v.indexOf('unformat')&&(x.unformat=u.unformat),0>v.indexOf('validate')&&(x.validate=u.validate),0>v.indexOf('format')&&(x.format=u.format),0>v.indexOf('sync')&&(x.sync=u.sync),0>v.indexOf('invalid')&&(x.invalid=u.invalid),0>v.indexOf('intermediate')&&(x.intermediate=u.intermediate),0>v.indexOf('valid')&&(x.valid=w),s(t,x,u.opts),console.log({hftFun:s})}},function(e){e.exports=function(o,p,q,r){var s,t=o=o||{},u=typeof o.default;('object'==u||'function'==u)&&(s=o,t=o.default);var v='function'==typeof t?t.options:t;if(p&&(v.render=p.render,v.staticRenderFns=p.staticRenderFns),q&&(v._scopeId=q),r){var w=Object.create(v.computed||null);Object.keys(r).forEach(function(x){var y=r[x];w[x]=function(){return y}}),v.computed=w}return{esModule:s,exports:t,options:v}}},function(e,k,n){var o=n(2)(n(7),n(14),null,null);o.options.__file='/d1/src/vue/components/vue-form-tools/src/components/vft-dollar-input.vue',o.esModule&&Object.keys(o.esModule).some(function(p){return'default'!==p&&'__esModule'!==p})&&console.error('named exports are not supported in *.vue files.'),o.options.functional&&console.error('[vue-loader] vft-dollar-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=o.exports},function(e,k,n){var o=n(2)(n(8),n(17),null,null);o.options.__file='/d1/src/vue/components/vue-form-tools/src/components/vft-float-input.vue',o.esModule&&Object.keys(o.esModule).some(function(p){return'default'!==p&&'__esModule'!==p})&&console.error('named exports are not supported in *.vue files.'),o.options.functional&&console.error('[vue-loader] vft-float-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=o.exports},function(e,k,n){n(18);var o=n(2)(n(9),n(16),'data-v-4c9e90ea',null);o.options.__file='/d1/src/vue/components/vue-form-tools/src/components/vft-input.vue',o.esModule&&Object.keys(o.esModule).some(function(p){return'default'!==p&&'__esModule'!==p})&&console.error('named exports are not supported in *.vue files.'),o.options.functional&&console.error('[vue-loader] vft-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=o.exports},function(e,k,n){var o=n(2)(n(10),n(15),null,null);o.options.__file='/d1/src/vue/components/vue-form-tools/src/components/vft-integer-input.vue',o.esModule&&Object.keys(o.esModule).some(function(p){return'default'!==p&&'__esModule'!==p})&&console.error('named exports are not supported in *.vue files.'),o.options.functional&&console.error('[vue-loader] vft-integer-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=o.exports},function(e,k,n){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var o=n(0),p=n.n(o),q=n(1);k['default']={name:'vft-dollar-input',props:q.a,mounted:function(){n.i(q.b)(p.a.DollarInput,this.$refs.input,this,['format','validate','unformat'])}}},function(e,k,n){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var o=n(0),p=n.n(o),q=n(1);k['default']={name:'vft-float-input',props:q.a,mounted:function(){n.i(q.b)(p.a.FloatInput,this.$refs.input,this,['format','validate','unformat'])}}},function(e,k,n){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var o=n(0),p=n.n(o),q=n(1);k['default']={name:'vft-input',props:q.a,mounted:function(){n.i(q.b)(p.a.ManagedInput,this.$refs.input,this)}}},function(e,k,n){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var o=n(0),p=n.n(o),q=n(1);k['default']={name:'vft-integer-input',props:q.a,mounted:function(){n.i(q.b)(p.a.IntegerInput,this.$refs.input,this,['format','validate','unformat'])}}},function(e,k,n){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var o=n(3),p=n.n(o),q=n(4),r=n.n(q),s=n(5),t=n.n(s),u=n(6),v=n.n(u);n.d(k,'vftDollarInput',function(){return p.a}),n.d(k,'vftFloatInput',function(){return r.a}),n.d(k,'vftInput',function(){return t.a}),n.d(k,'vftIntegerInput',function(){return v.a})},function(e,k,n){k=e.exports=n(13)(),k.push([e.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n',''])},function(e){e.exports=function(){var n=[];return n.toString=function(){for(var r,p=[],q=0;q<this.length;q++)r=this[q],r[2]?p.push('@media '+r[2]+'{'+r[1]+'}'):p.push(r[1]);return p.join('')},n.i=function(o,p){'string'==typeof o&&(o=[[null,o,'']]);for(var s,q={},r=0;r<this.length;r++)s=this[r][0],'number'==typeof s&&(q[s]=!0);for(r=0;r<o.length;r++){var t=o[r];'number'==typeof t[0]&&q[t[0]]||(p&&!t[2]?t[2]=p:p&&(t[2]='('+t[2]+') and ('+p+')'),n.push(t))}},n}},function(e){e.exports={render:function(){var o=this,p=o.$createElement,q=o._self._c||p;return q('input',{ref:'input',domProps:{value:o.value}})},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e){e.exports={render:function(){var o=this,p=o.$createElement,q=o._self._c||p;return q('input',{ref:'input',domProps:{value:o.value}})},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e){e.exports={render:function(){var o=this,p=o.$createElement,q=o._self._c||p;return q('div',[q('input',{ref:'input',domProps:{value:o.value}})])},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e){e.exports={render:function(){var o=this,p=o.$createElement,q=o._self._c||p;return q('input',{ref:'input',domProps:{value:o.value}})},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e,k,n){var o=n(12);'string'==typeof o&&(o=[[e.i,o,'']]),o.locals&&(e.exports=o.locals);n(19)('39c8060b',o,!1)},function(e,k,n){function o(D){for(var E=0;E<D.length;E++){var F=D[E],G=v[F.id];if(G){G.refs++;for(var H=0;H<G.parts.length;H++)G.parts[H](F.parts[H]);for(;H<F.parts.length;H++)G.parts.push(q(F.parts[H]));G.parts.length>F.parts.length&&(G.parts.length=F.parts.length)}else{for(var I=[],H=0;H<F.parts.length;H++)I.push(q(F.parts[H]));v[F.id]={id:F.id,refs:1,parts:I}}}}function p(){var D=document.createElement('style');return D.type='text/css',w.appendChild(D),D}function q(D){var E,F,G=document.querySelector('style[data-vue-ssr-id~="'+D.id+'"]');if(G){if(z)return A;G.parentNode.removeChild(G)}if(B){var H=y++;G=x||(x=p()),E=r.bind(null,G,H,!1),F=r.bind(null,G,H,!0)}else G=p(),E=s.bind(null,G),F=function(){G.parentNode.removeChild(G)};return E(D),function(J){if(J){if(J.css===D.css&&J.media===D.media&&J.sourceMap===D.sourceMap)return;E(D=J)}else F()}}function r(D,E,F,G){var H=F?'':G.css;if(D.styleSheet)D.styleSheet.cssText=C(E,H);else{var I=document.createTextNode(H),J=D.childNodes;J[E]&&D.removeChild(J[E]),J.length?D.insertBefore(I,J[E]):D.appendChild(I)}}function s(D,E){var F=E.css,G=E.media,H=E.sourceMap;if(G&&D.setAttribute('media',G),H&&(F+='\n/*# sourceURL='+H.sources[0]+' */',F+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(H))))+' */'),D.styleSheet)D.styleSheet.cssText=F;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(F))}}var t='undefined'!=typeof document;if('undefined'!=typeof DEBUG&&DEBUG&&!t)throw new Error('vue-style-loader cannot be used in a non-browser environment. Use { target: \\\'node\\\' } in your Webpack config to indicate a server-rendering environment.');var u=n(20),v={},w=t&&(document.head||document.getElementsByTagName('head')[0]),x=null,y=0,z=!1,A=function(){},B='undefined'!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(D,E,F){z=F;var G=u(D,E);return o(G),function(I){for(var J=[],K=0;K<G.length;K++){var L=G[K],M=v[L.id];M.refs--,J.push(M)}I?(G=u(D,I),o(G)):G=[];for(var M,K=0;K<J.length;K++)if(M=J[K],0===M.refs){for(var N=0;N<M.parts.length;N++)M.parts[N]();delete v[M.id]}}};var C=function(){var D=[];return function(E,F){return D[E]=F,D.filter(Boolean).join('\n')}}()},function(e){e.exports=function(o,p){for(var q=[],r={},s=0;s<p.length;s++){var t=p[s],u=t[0],v=t[1],w=t[2],x=t[3],y={id:o+':'+s,css:v,media:w,sourceMap:x};r[u]?r[u].parts.push(y):q.push(r[u]={id:u,parts:[y]})}return q}}])});
