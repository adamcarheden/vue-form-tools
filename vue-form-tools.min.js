(function(k,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('vue-form-tools',[],t):'object'==typeof exports?exports['vue-form-tools']=t():k['vue-form-tools']=t()})(this,function(){return function(e){function k(u){if(t[u])return t[u].exports;var v=t[u]={i:u,l:!1,exports:{}};return e[u].call(v.exports,v,v.exports,k),v.l=!0,v.exports}var t={};return k.m=e,k.c=t,k.i=function(u){return u},k.d=function(u,v,w){k.o(u,v)||Object.defineProperty(u,v,{configurable:!1,enumerable:!0,get:w})},k.n=function(u){var v=u&&u.__esModule?function(){return u['default']}:function(){return u};return k.d(v,'a',v),v},k.o=function(u,v){return Object.prototype.hasOwnProperty.call(u,v)},k.p='',k(k.s=11)}([function(e,k){(function(u,v){e.exports=v()})(this,function(){return function(u){function v(x){if(w[x])return w[x].exports;var y=w[x]={i:x,l:!1,exports:{}};return u[x].call(y.exports,y,y.exports,v),y.l=!0,y.exports}var w={};return v.m=u,v.c=w,v.i=function(x){return x},v.d=function(x,y,z){v.o(x,y)||Object.defineProperty(x,y,{configurable:!1,enumerable:!0,get:z})},v.n=function(x){var y=x&&x.__esModule?function(){return x['default']}:function(){return x};return v.d(y,'a',y),y},v.o=function(x,y){return Object.prototype.hasOwnProperty.call(x,y)},v.p='',v(v.s=5)}([function(u,v){'use strict';v.a=function(w,x){let y;switch(2>arguments.length&&(x=0),typeof w){case'number':y=w.toString();break;case'symbol':case'string':if(y=w.toString(),!y.match(/^\s*\d+(\.\d*)?\s*$/))return 2>arguments.length?w:{value:w,cursorPos:x};let D=y.substring(0,x),E=y.substring(x).trim();0===D.trim().length&&(x-=D.length,D=''),y=D+E;break;default:return 2>arguments.length?w:{value:w,cursorPos:x};}for(var z=y.match(/\./)?y.split(/\./,2):[y],A=[],B=0,C=0;C<z[0].length;C++){let D=z[0].length-C-1;0!==C&&0==C%3&&(A.unshift(','),D<x&&B++),A.unshift(z[0].charAt(D))}return x+=B,z[0]=A.join(''),y=z.join('.'),2>arguments.length?y:{value:y,cursorPos:x}},v.b=function(w,x){var y=w.replace(/,/g,'');return 2<=arguments.length?(x-=w.substring(0,x).replace(/[^,]/g,'').length,{value:y,cursorPos:x}):y},v.c=function(w,x,y,z=[]){return Object.keys(w).forEach(function(A){if(-1!==z.indexOf(A))A in x||(x[A]=w[A]);else{if(A in x)throw new Error(`You defined the callback '${A}', but '${y}' also defines that callback`);x[A]=w[A]}}),x},v.d=function(w,x,y){let z;return z=x in w&&'function'==typeof w[x]?function(A,B){var C=y(A,B);return w[x](C.value,C.cursorPos)}:y,z}},function(u,v){'use strict';const w={unformat:!1,validate:!1,format:!1,sync:!1,invalid:!1,intermediate:!1,valid:!1},x={HTMLInputElement:{keypress:function(A){return this.debug(`keypress: value='${this.input.value}'`),!!this.ignoreKey(A)||void this.validateAndFormat(A)},input:function(A){this.debug(`input: value='${this.input.value}'`),this.validateAndFormat(A)},blur:function(){this.debug(`blur: value='${this.input.value}'`),this.sync()}}};var y={defaultValue:null,ignoreCtrl:!0,ignoreAlt:!0,debug:!1},z=function(A){if(!('key'in A))throw new Error(`predictInput called on event of type '${A.type}', which has no value 'key'. You probably only want to call this on KeyEvents`);var B=A.target.value.slice(0,A.target.selectionStart),C=A.target.value.slice(A.target.selectionEnd),D=`${B}${A.key}${C}`;return D};v.a=class{constructor(A,B,C){if('string'!=typeof A)this.input=A;else if(this.input=document.getElementById(A),!this.input&&(this.input=document.querySelector(A),!this.input))throw new Error(`Failed to find element by id or query selector '${A}'`);if('object'!=typeof this.input)throw Error(`Expected an object or the name of an element to manage, but got a '${typeof this.input}'`);if(!(this.input instanceof HTMLInputElement))throw Error(`Expected an HTMLInputElement, got a '${this.input.constructor.name}'`);if('format'in B&&!('unformat'in B)&&console.warn(`You defined the format callback but not the unformat callback. That probably won't work well.`),'unformat'in B&&!('format'in B)&&console.warn(`You defined the unformat callback but not the format callback. That probably won't work well.`),'format'in B||'unformat'in B||'validate'in B||console.warn(`You didn't define the format/unformat callbacks nor the validate callback. This module doesn't really do anything if you haven't defined at least one of those.`),this.callbacks={},'undefined'==typeof B&&(B={}),'object'!=typeof B)throw new Error(`callbacks should be an object, not a ${typeof B}`);if(Object.keys(w).forEach((D)=>{this.callbacks[D]=D in B?B[D]:w[D]}),Object.keys(B).forEach(function(D){D in w||console.warn(`Unknown callback: '${D}'`)}),this.opts={},'undefined'==typeof C&&(C={}),'object'!=typeof C)throw new Error(`opts should be an object, not a ${typeof C}`);Object.keys(y).forEach((D)=>{this.opts[D]=D in C?C[D]:y[D]}),null!==this.opts.defaultValue&&(this.input.value=this.opts.defaultValue),this.validateAndFormat(),this.inputType=this.input.constructor.name,Object.keys(x[this.inputType]).forEach((D)=>{this.input.addEventListener(D,(E)=>{x[this.inputType][D].bind(this)(E)})})}set(A){this.input.value=A,this.validateAndFormat()}unformat(A,B){return'undefined'==typeof A&&(A=this.input.value),this.callbacks.unformat?this.callbacks.unformat(A,B):A}unformatted(A){'undefined'==typeof A&&(A=this.input.value);var B=this.callbacks.unformat?this.callbacks.unformat(A):A;return'object'==typeof B?B.value:B}format(A,B){return this.callbacks.format?this.callbacks.format(A,B):A}validate(A){return'undefined'==typeof A&&(A=this.unformatted(this.input.value)),!this.callbacks.validate||this.callbacks.validate(A)}sync(A){'undefined'==typeof A&&(A=this.unformatted(this.input.value));try{if(this.callbacks.sync&&this.validate(A))return this.callbacks.sync(A)}catch(B){this.debug(`Refusing to sync invalid value ${A}`)}}invalid(A,B,C){this.callbacks.invalid&&this.callbacks.invalid(A,B,C,this.input)}intermediate(A,B,C){this.callbacks.intermediate&&this.callbacks.intermediate(A,B,C,this.input)}valid(A,B,C){this.callbacks.valid&&this.callbacks.valid(A,B,C,this.input)}ignoreKey(A){if(!('key'in A))throw new Error(`ignoreKey should only be called for KeyEvents. Called on event of type ${A.type}`);return(1<A.key.length||this.opts.ignoreCtrl&&A.ctrlKey||this.opts.ignoreAlt&&A.altKey)&&(this.debug({ignoring:A}),!0)}validateAndFormat(A){var C,B='',D=this.input.selectionStart;A&&A.key?(B=this.input.value,C=z(A),D++):C=this.input.value;var E=this.unformat(C,D);'object'!=typeof E&&(E={value:E,cursorPos:!1});try{if(!this.validate(E.value))this.debug(`'${E.value}': acceptable intermediate value, formatting delayed`),this.intermediate(E.value,B,C);else{var F=this.format(E.value,E.cursorPos);'object'!=typeof F&&(F={value:F,cursorPos:!1}),this.debug(`'${E.value}' (cursorPos=${E.cursorPos}) is valid, formatted as '${F.value}' (cursorPos=${F.cursorPos})`),A&&A.preventDefault(),this.input.value=F.value,F.cursorPos&&this.input.setSelectionRange(F.cursorPos,F.cursorPos),this.valid(E.value,B,C)}}catch(G){return this.debug(`Invalid value '${E.value}': "${G.message}". We'll prevent input if possible.`),A&&A.preventDefault(),A&&'keypress'===A.type||this.invalid(E.value,B,C),!1}return!0}debug(A){this.opts.debug&&console.log(A)}}},function(u,v,w){'use strict';var x=w(0),y=w(1);v.a=function(z,A={},B={}){let C=JSON.parse(JSON.stringify(B));'commafy'in C||(C.commafy=!0);var D=!1;'MaxMantissaDigits'in C&&(D=C.MaxMantissaDigits,delete C.MaxMantissaDigits);var E=!1;'MaxDecimalDigits'in C&&(E=C.MaxDecimalDigits,delete C.MaxDecimalDigits);var F=!1,G=!1;return C.commafy?(F=w.i(x.d)(A,'format',function(H,I){return w.i(x.a)(H,I)}),G=w.i(x.d)(A,'unformat',function(H,I){return w.i(x.b)(H,I)})):('format'in A&&(F=A.format),'unformat'in A&&(G=A.unformat)),delete C.commafy,new y.a(z,w.i(x.c)(A,{validate:function(H){if(H=H.toString(),0===H.length)return!1;var I=H.match(/^(\d*)((\.)(\d*))?$/);if(!I)throw new Error('Must be numeric (with out without a decimal)');if(D&&I[1]&&I[1].length>D)throw new Error(`Mantissa part must be no more than '${D}' digits`);if(E&&I[4]&&I[4].length>E)throw new Error(`Decimal part must be no more than '${E}' digits`);return I[3]&&!I[4]?!1:!0},format:F,unformat:G},'FloatInput',['format','unformat']),C)}},function(u,v,w){'use strict';var x=w(0),y=w(2);v.a=function(z,A={},B={}){let C=JSON.parse(JSON.stringify(B));return'MaxDecimalDigits'in C||(C.MaxDecimalDigits=2),w.i(y.a)(z,w.i(x.c)(A,{unformat:function(D,E){D=D.toString();var F=D.replace(/^\$+/,''),G=E,H=D.length-F.length;return G-=Math.min(E,H),{value:F,cursorPos:G}},format:function(D,E){return{value:'$'+D,cursorPos:!1!==E&&E+1}}},'DollarInput'),C)}},function(u,v,w){'use strict';var x=w(0),y=w(1);v.a=function(z,A={},B={}){let C=JSON.parse(JSON.stringify(B));'commafy'in C||(C.commafy=!0);var D=!1;'MaxDigits'in C&&(D=C.MaxDigits,delete C.MaxDigits);var E=!1,F=!1;return C.commafy?(E=w.i(x.d)(A,'format',function(G,H){return w.i(x.a)(G,H)}),F=w.i(x.d)(A,'unformat',function(G,H){return w.i(x.b)(G,H)})):('format'in A&&(E=A.format),'unformat'in A&&(F=A.unformat)),delete C.commafy,new y.a(z,w.i(x.c)(A,{validate:function(G){if(!G.match(/^[0-9]*$/))throw new Error('must be a integer');if(D&&G.length>D)throw new Error(`Must be at most ${D} digits`);return!0},format:E,unformat:F},'IntegerInput'),C)}},function(u,v,w){'use strict';Object.defineProperty(v,'__esModule',{value:!0});var x=w(0),y=w(1),z=w(4),A=w(2),B=w(3);v['default']={ManagedInput:function(C,D,E){return new y.a(C,D,E)},IntegerInput:z.a,FloatInput:A.a,DollarInput:B.a,util:{commafy:x.a,uncommafy:x.b}}}])})},function(e,k,t){'use strict';t.d(k,'e',function(){return w}),t.d(k,'a',function(){return v}),t.d(k,'b',function(){return x}),t.d(k,'c',function(){return y}),t.d(k,'d',function(){return z});var u=function(B){return!1===B||'function'==typeof B},v={value:{default:''},syncOnValid:{type:Boolean,default:!0},unformat:{validator:u,default:!1},validate:{validator:u,default:!1},format:{validator:u,default:!1},sync:{validator:u,default:!1},invalid:{validator:u,default:!1},intermediate:{validator:u,default:!1},valid:{validator:u,default:!1},opts:{type:Object,default:function(){return{}}}},w=function(B,C,D){var E=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],F=D.valid;if(D.syncOnValid){var G;G=D.valid?function(K){D.valid(K)}:function(){},F=function(K){G(K),D.$emit('input',K)}}var H={};0>E.indexOf('unformat')&&(H.unformat=D.unformat),0>E.indexOf('validate')&&(H.validate=D.validate),0>E.indexOf('format')&&(H.format=D.format),0>E.indexOf('sync')&&(H.sync=D.sync),0>E.indexOf('invalid')&&(H.invalid=D.invalid),0>E.indexOf('intermediate')&&(H.intermediate=D.intermediate),0>E.indexOf('valid')&&(H.valid=F);var I=B(C,H,D.opts);return I.set(D.$props.value),D.hftObj=I,I},x=function(){return{update:function(C){this.hftObj.set(C)}}},y=function(){return{value:function(C){this.hftObj.set(C)}}},z=function(){return{hftObj:null}}},function(e){e.exports=function(u,v,w,x){var y,z=u=u||{},A=typeof u.default;('object'==A||'function'==A)&&(y=u,z=u.default);var B='function'==typeof z?z.options:z;if(v&&(B.render=v.render,B.staticRenderFns=v.staticRenderFns),w&&(B._scopeId=w),x){var C=Object.create(B.computed||null);Object.keys(x).forEach(function(D){var E=x[D];C[D]=function(){return E}}),B.computed=C}return{esModule:y,exports:z,options:B}}},function(e,k,t){var u=t(2)(t(7),t(14),null,null);u.options.__file='/storage/raid/onsite/offsite/home/acarheden/src/vue/components/vue-form-tools/src/components/vft-dollar-input.vue',u.esModule&&Object.keys(u.esModule).some(function(v){return'default'!==v&&'__esModule'!==v})&&console.error('named exports are not supported in *.vue files.'),u.options.functional&&console.error('[vue-loader] vft-dollar-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=u.exports},function(e,k,t){var u=t(2)(t(8),t(17),null,null);u.options.__file='/storage/raid/onsite/offsite/home/acarheden/src/vue/components/vue-form-tools/src/components/vft-float-input.vue',u.esModule&&Object.keys(u.esModule).some(function(v){return'default'!==v&&'__esModule'!==v})&&console.error('named exports are not supported in *.vue files.'),u.options.functional&&console.error('[vue-loader] vft-float-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=u.exports},function(e,k,t){var u=t(2)(t(9),t(15),null,null);u.options.__file='/storage/raid/onsite/offsite/home/acarheden/src/vue/components/vue-form-tools/src/components/vft-integer-input.vue',u.esModule&&Object.keys(u.esModule).some(function(v){return'default'!==v&&'__esModule'!==v})&&console.error('named exports are not supported in *.vue files.'),u.options.functional&&console.error('[vue-loader] vft-integer-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=u.exports},function(e,k,t){t(18);var u=t(2)(t(10),t(16),'data-v-4fdab5dd',null);u.options.__file='/storage/raid/onsite/offsite/home/acarheden/src/vue/components/vue-form-tools/src/components/vft-managed-input.vue',u.esModule&&Object.keys(u.esModule).some(function(v){return'default'!==v&&'__esModule'!==v})&&console.error('named exports are not supported in *.vue files.'),u.options.functional&&console.error('[vue-loader] vft-managed-input.vue: functional components are not supported with templates, they should use render functions.'),!1,e.exports=u.exports},function(e,k,t){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var u=t(0),v=t.n(u),w=t(1);k['default']={name:'vft-dollar-input',props:w.a,methods:t.i(w.b)(),watch:t.i(w.c)(),data:w.d,mounted:function(){t.i(w.e)(v.a.DollarInput,this.$refs.input,this,['format','validate','unformat'])}}},function(e,k,t){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var u=t(0),v=t.n(u),w=t(1);k['default']={name:'vft-float-input',props:w.a,methods:t.i(w.b)(),watch:t.i(w.c)(),data:w.d,mounted:function(){t.i(w.e)(v.a.FloatInput,this.$refs.input,this,['format','validate','unformat'])}}},function(e,k,t){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var u=t(0),v=t.n(u),w=t(1);k['default']={name:'vft-integer-input',props:w.a,methods:t.i(w.b)(),watch:t.i(w.c)(),data:w.d,mounted:function(){t.i(w.e)(v.a.IntegerInput,this.$refs.input,this,['format','validate','unformat'])}}},function(e,k,t){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var u=t(0),v=t.n(u),w=t(1);k['default']={name:'vft-input',props:w.a,methods:t.i(w.b)(),watch:t.i(w.c)(),data:w.d,mounted:function(){t.i(w.e)(v.a.ManagedInput,this.$refs.input,this)}}},function(e,k,t){'use strict';Object.defineProperty(k,'__esModule',{value:!0});var u=t(3),v=t.n(u),w=t(4),x=t.n(w),y=t(6),z=t.n(y),A=t(5),B=t.n(A);t.d(k,'vftDollarInput',function(){return v.a}),t.d(k,'vftFloatInput',function(){return x.a}),t.d(k,'vftManagedInput',function(){return z.a}),t.d(k,'vftIntegerInput',function(){return B.a})},function(e,k,t){k=e.exports=t(13)(),k.push([e.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n',''])},function(e){e.exports=function(){var t=[];return t.toString=function(){for(var x,v=[],w=0;w<this.length;w++)x=this[w],x[2]?v.push('@media '+x[2]+'{'+x[1]+'}'):v.push(x[1]);return v.join('')},t.i=function(u,v){'string'==typeof u&&(u=[[null,u,'']]);for(var y,w={},x=0;x<this.length;x++)y=this[x][0],'number'==typeof y&&(w[y]=!0);for(x=0;x<u.length;x++){var z=u[x];'number'==typeof z[0]&&w[z[0]]||(v&&!z[2]?z[2]=v:v&&(z[2]='('+z[2]+') and ('+v+')'),t.push(z))}},t}},function(e){e.exports={render:function(){var u=this,v=u.$createElement,w=u._self._c||v;return w('input',{ref:'input'})},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e){e.exports={render:function(){var u=this,v=u.$createElement,w=u._self._c||v;return w('input',{ref:'input'})},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e){e.exports={render:function(){var u=this,v=u.$createElement,w=u._self._c||v;return w('div',[w('input',{ref:'input'})])},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e){e.exports={render:function(){var u=this,v=u.$createElement,w=u._self._c||v;return w('input',{ref:'input'})},staticRenderFns:[]},e.exports.render._withStripped=!0,!1},function(e,k,t){var u=t(12);'string'==typeof u&&(u=[[e.i,u,'']]),u.locals&&(e.exports=u.locals);t(19)('6b07164d',u,!1)},function(e,k,t){function u(J){for(var K=0;K<J.length;K++){var L=J[K],M=B[L.id];if(M){M.refs++;for(var N=0;N<M.parts.length;N++)M.parts[N](L.parts[N]);for(;N<L.parts.length;N++)M.parts.push(w(L.parts[N]));M.parts.length>L.parts.length&&(M.parts.length=L.parts.length)}else{for(var O=[],N=0;N<L.parts.length;N++)O.push(w(L.parts[N]));B[L.id]={id:L.id,refs:1,parts:O}}}}function v(){var J=document.createElement('style');return J.type='text/css',C.appendChild(J),J}function w(J){var K,L,M=document.querySelector('style[data-vue-ssr-id~="'+J.id+'"]');if(M){if(F)return G;M.parentNode.removeChild(M)}if(H){var N=E++;M=D||(D=v()),K=x.bind(null,M,N,!1),L=x.bind(null,M,N,!0)}else M=v(),K=y.bind(null,M),L=function(){M.parentNode.removeChild(M)};return K(J),function(P){if(P){if(P.css===J.css&&P.media===J.media&&P.sourceMap===J.sourceMap)return;K(J=P)}else L()}}function x(J,K,L,M){var N=L?'':M.css;if(J.styleSheet)J.styleSheet.cssText=I(K,N);else{var O=document.createTextNode(N),P=J.childNodes;P[K]&&J.removeChild(P[K]),P.length?J.insertBefore(O,P[K]):J.appendChild(O)}}function y(J,K){var L=K.css,M=K.media,N=K.sourceMap;if(M&&J.setAttribute('media',M),N&&(L+='\n/*# sourceURL='+N.sources[0]+' */',L+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(N))))+' */'),J.styleSheet)J.styleSheet.cssText=L;else{for(;J.firstChild;)J.removeChild(J.firstChild);J.appendChild(document.createTextNode(L))}}var z='undefined'!=typeof document;if('undefined'!=typeof DEBUG&&DEBUG&&!z)throw new Error('vue-style-loader cannot be used in a non-browser environment. Use { target: \\\'node\\\' } in your Webpack config to indicate a server-rendering environment.');var A=t(20),B={},C=z&&(document.head||document.getElementsByTagName('head')[0]),D=null,E=0,F=!1,G=function(){},H='undefined'!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(J,K,L){F=L;var M=A(J,K);return u(M),function(O){for(var P=[],Q=0;Q<M.length;Q++){var R=M[Q],S=B[R.id];S.refs--,P.push(S)}O?(M=A(J,O),u(M)):M=[];for(var S,Q=0;Q<P.length;Q++)if(S=P[Q],0===S.refs){for(var T=0;T<S.parts.length;T++)S.parts[T]();delete B[S.id]}}};var I=function(){var J=[];return function(K,L){return J[K]=L,J.filter(Boolean).join('\n')}}()},function(e){e.exports=function(u,v){for(var w=[],x={},y=0;y<v.length;y++){var z=v[y],A=z[0],B=z[1],C=z[2],D=z[3],E={id:u+':'+y,css:B,media:C,sourceMap:D};x[A]?x[A].parts.push(E):w.push(x[A]={id:A,parts:[E]})}return w}}])});
